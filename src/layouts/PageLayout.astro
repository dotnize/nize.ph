---
import Footer from "~/components/Footer.astro";
import Header from "~/components/Header.astro";
import Base from "./base.astro";

// import ScrollTop from "~/components/ScrollTop.astro";

import { type LayoutProps } from "~/consts";
export type Props = LayoutProps;

const { title, description, image } = Astro.props;
// const { pathname } = Astro.url;
// const isBlogPost = pathname !== "/blog" && pathname !== "/blog/" && pathname.startsWith("/blog/");
// const pageImage = image || (title !== "404" && !isBlogPost ? "/images/cover.jpg" : undefined);
const pageImage = image || (title !== "404" ? "/images/cover.jpg" : undefined);
---

<Base title={title} description={description} image={pageImage}>
  <div class="mx-auto max-w-prose space-y-2 px-4">
    <Header />
    <div class="min-h-[calc(100vh-28rem)]">
      <slot />
    </div>
    <Footer />
  </div>
</Base>
